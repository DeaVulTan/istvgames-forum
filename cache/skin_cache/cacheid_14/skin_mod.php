<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 14               */
/* CACHE FILE: Generated: Tue, 29 Dec 2015 18:27:01 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_mod_14 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['mergePostForm'] = array('selectedpids','selectedpidsjs','dates','authors','uploads','hasSelectedPidsJs','mergepostsdates','mergepostsauthors','mergepostsattachments');
$this->_funcHooks['movePostForm'] = array('isGuest','posts','movepostserror','movepostsloop');
$this->_funcHooks['moveTopicsForm'] = array('topics','movetopicsloop');
$this->_funcHooks['pruneSplash'] = array('defaultselectedoption','types','prunecompletehtml','confirmprune');
$this->_funcHooks['splitPostForm'] = array('split_posts','splitpostsloop');
$this->_funcHooks['topicHistory'] = array('mod_logs','topicmodlogs');


}

/* -- deleteTopicForm --*/
function deleteTopicForm($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='08' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<input type='hidden' name='return' value='{$this->request['return']}' />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['top_delete']}: {$forum['name']} -&gt; {$topic['title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form'>
	<p class='row1 field'>{$this->lang->words['delete_topic']}</p>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_delete']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;st={$this->request['st']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}

/* -- editTopicTitle --*/
function editTopicTitle($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='12' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['top_edit']}: {$forum['name']} &gt; {$topic['title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['editing_topic_title']}</h3>
		<ul>
			<li class='field'>
				<label for='topic_title'>{$this->lang->words['edit_f_title']}</label>
				<input class='input_text' type=\"text\" size=\"40\" id='topic_title' maxlength=\"{$this->settings['topic_title_max_len']}\" name=\"TopicTitle\" value=\"{$topic['title']}\" />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_edit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>
<br />";
return $IPBHTML;
}

/* -- mergeMultiplePolls --*/
function mergeMultiplePolls($polls, $tids) {
$IPBHTML = "";
$IPBHTML .= "<h1 class='ipsType_pagetitle'>{$this->lang->words['poll_merge_title']}</h1>
<br />
<div class='message'>
	{$this->lang->words['poll_merge_blurb']}
</div>
<br />".$this->__f__9ce669e2ccdbf5fde2ee3b7e5cc78307($polls,$tids)."";
return $IPBHTML;
}


function __f__03580bb83d26a1a8637c5c6c86fb96dc($polls, $tids,$poll='',$questionID='',$questionData='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $questionData['choice'] as $choiceID => $name )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						<li>
							<span class='answer'>{$name}</span>
							<span class='votes'>({$questionData['votes'][$choiceID]} {$this->lang->words['poll_votes']})</span>
						</li>	
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__44854c7d7a8980b54e4a516f6650816c($polls, $tids,$poll='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( unserialize( stripslashes( $poll['choices'] ) ) as $questionID => $questionData )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<div class='poll_question'>
				<h4 class='rounded'>{$questionData['question']}</h4>
				<ol>
					".$this->__f__03580bb83d26a1a8637c5c6c86fb96dc($polls,$tids,$poll,$questionID,$questionData)."				</ol>
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__9ce669e2ccdbf5fde2ee3b7e5cc78307($polls, $tids)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $polls as $poll )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<div class='general_box alt poll'>
		<h3>{$poll['poll_question']}</h3>
		".$this->__f__44854c7d7a8980b54e4a516f6650816c($polls,$tids,$poll)."		<fieldset class='submit'>
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate&amp;do=topicchoice&amp;tact=merge&amp;selectedtids={$tids}&amp;f={$this->request['f']}&amp;chosenpolltid={$poll['tid']}&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' class='ipsButton'>{$this->lang->words['poll_merge_submit']}</a>
		</fieldset>
	</div>
	<br /><br />

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- mergePostForm --*/
function mergePostForm($editor, $dates, $authors, $uploads, $seoTitle) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['mergePostForm'] ) )
{
$count_c200c5aa77f5659a10dda02fb5109a79 = is_array($this->functionData['mergePostForm']) ? count($this->functionData['mergePostForm']) : 0;
$this->functionData['mergePostForm'][$count_c200c5aa77f5659a10dda02fb5109a79]['editor'] = $editor;
$this->functionData['mergePostForm'][$count_c200c5aa77f5659a10dda02fb5109a79]['dates'] = $dates;
$this->functionData['mergePostForm'][$count_c200c5aa77f5659a10dda02fb5109a79]['authors'] = $authors;
$this->functionData['mergePostForm'][$count_c200c5aa77f5659a10dda02fb5109a79]['uploads'] = $uploads;
$this->functionData['mergePostForm'][$count_c200c5aa77f5659a10dda02fb5109a79]['seoTitle'] = $seoTitle;
}

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />".$this->__f__3bc5375f7f5c005defcf0f069984ece3($editor,$dates,$authors,$uploads,$seoTitle)."" . (($this->request['selectedpidsJS']) ? ("
	".$this->__f__1657d930708666989a615a4a5ae92135($editor,$dates,$authors,$uploads,$seoTitle)."") : ("")) . "
<input type=\"hidden\" name=\"t\" value=\"{$this->request['t']}\" />
<input type=\"hidden\" name=\"f\" value=\"{$this->request['f']}\" />
<input type='hidden' name='tact' value='merge' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['merge_select']}</p>
<br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['cm_title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['post_options']}</h3>
		<ul>
			<li class='field'>
				<label for='post_date'>{$this->lang->words['cm_post']}</label>
				<select name=\"postdate\" class=\"input_select\" id='post_date'>
					" . ((is_array($dates) AND count($dates)) ? ("
						".$this->__f__687bd35ea5f694a0fb7eb2c0e8971f97($editor,$dates,$authors,$uploads,$seoTitle)."					") : ("")) . "
				</select>
			</li>
			<li class='field'>
				<label for='post_author'>{$this->lang->words['cm_author']}</label>
				<select name=\"postauthor\" class=\"input_select\" id='post_author'>
					" . ((is_array($authors) AND count($authors)) ? ("
						".$this->__f__ad23d9d5304ebc6162ad49e3030e1cf0($editor,$dates,$authors,$uploads,$seoTitle)."					") : ("")) . "
				</select>
			</li>
		</ul>
		<h3 class='bar'>{$this->lang->words['post_content']}</h3>
		{$editor}
	</fieldset>
	" . ((count($uploads)) ? ("
		<fieldset>
			<h3 class='bar'>{$this->lang->words['cm_attach']}</h3>
			<h4>{$this->lang->words['cm_attach2']}<h4>
			<table>
				".$this->__f__8c7ee3d9f94a02f65f49972c4558cd3a($editor,$dates,$authors,$uploads,$seoTitle)."			</table>
		</fieldset>
	") : ("")) . "
	<fieldset class='submit'>
				<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cm_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$this->request['t']}&amp;selectedpids={$selectedPids}", "public",'' ), "{$seoTitle}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}


function __f__3bc5375f7f5c005defcf0f069984ece3($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->request['selectedpids'] as $pid )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<input type=\"hidden\" name=\"selectedpids[{$pid}]\" value=\"{$pid}\" />

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__1657d930708666989a615a4a5ae92135($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( explode( ',', $this->request['selectedpidsJS'] ) as $pid )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<input type=\"hidden\" name=\"selectedpids[{$pid}]\" value=\"{$pid}\" />
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__687bd35ea5f694a0fb7eb2c0e8971f97($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $dates as $date )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<option value='{$date[0]}'>{$date[1]}</option>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__ad23d9d5304ebc6162ad49e3030e1cf0($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $authors as $author )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<option value='{$author[0]}'>{$author[1]}</option>
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__8c7ee3d9f94a02f65f49972c4558cd3a($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $uploads as $attach )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<tr>
						<td width=\"1%\">
							<select name=\"attach_{$attach['attach_id']}\" class=\"input_select\">
								<option value=\"keep\">{$this->lang->words['cm_keep']}</option>
								<option value=\"delete\">{$this->lang->words['cm_delete']}</option>
							</select>
						</td>
						<td width=\"1%\"><img src=\"{$this->settings['public_dir']}{$attach['image']}\" alt=\"{$this->lang->words['cm_attach_alt']}\" /></td>
						<td width=\"15%\" nowrap=\"nowrap\">{$attach['size']}</td>
						<td width=\"95%\"><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$attach['attach_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['cm_attach_title']}\">{$attach['attach_file']}</a> #{$attach['attach_rel_id']}</td>
					</tr>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- mergeTopicsForm --*/
function mergeTopicsForm($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='61' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['mt_top']}: {$forum['name']} &gt; {$topic['title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['merge_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='new_title'>{$this->lang->words['mt_new_title']}</label>
				<input type=\"text\" id='new_title' class='input_text' size=\"40\" maxlength=\"250\" name=\"title\" value=\"{$topic['title']}\" />
			</li>
			<li class='field'>
				<label for='topic_url'>{$this->lang->words['mt_tid']}</label>
				<input type=\"text\" id='topic_url' class='input_text' size=\"40\" name=\"topic_url\" value=\"\" />
				<span class='desc'>{$this->lang->words['mt_tid_desc']}</span>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['mt_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}

/* -- movePostForm --*/
function movePostForm($forum, $topic, $posts, $error='') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['movePostForm'] ) )
{
$count_05f5e4bb0860cc7eef8f8060d040e7ac = is_array($this->functionData['movePostForm']) ? count($this->functionData['movePostForm']) : 0;
$this->functionData['movePostForm'][$count_05f5e4bb0860cc7eef8f8060d040e7ac]['forum'] = $forum;
$this->functionData['movePostForm'][$count_05f5e4bb0860cc7eef8f8060d040e7ac]['topic'] = $topic;
$this->functionData['movePostForm'][$count_05f5e4bb0860cc7eef8f8060d040e7ac]['posts'] = $posts;
$this->functionData['movePostForm'][$count_05f5e4bb0860cc7eef8f8060d040e7ac]['error'] = $error;
}

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . (($error) ? ("
	<p class=\"message error\">{$error}</p>
") : ("")) . "
" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='tact' value='move' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['cmp_title']}: {$forum['name']} -&gt; {$topic['title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
		<ul>
			<li class='field'>
				<label for='topic_url'>{$this->lang->words['cmp_topic']}</label>
				<input type=\"text\" size=\"50\" name=\"topic_url\" value=\"\" id='topic_url' class='input_text' />
				<span class='desc'>{$this->lang->words['cmp_topic2']}</span>
			</li>
		</ul>
	</div>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
<br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['move_topic_summary']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
		" . ((is_array( $posts ) AND count( $posts )) ? ("
			".$this->__f__24cd4c2214b5d19c3abba6e9e548eb12($forum,$topic,$posts,$error)."		") : ("")) . "
	</div>
</div>
<fieldset class='submit'>
		<input type=\"submit\" name=\"submit\" class='input_submit' value=\"{$this->lang->words['cmp_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;selectedpids={$selectedPids}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}


function __f__24cd4c2214b5d19c3abba6e9e548eb12($forum, $topic, $posts, $error='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $posts as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				<div class='post_block no_sidebar topic_summary'>
					<div class='post_wrap'>
					<h3 class='row2" . ((empty($row['member_id'])) ? (" guest") : ("")) . "'><input type='checkbox' id='checkbox_{$row['pid']}' name='selectedpids[{$row['pid']}]' value='{$row['pid']}' class='post_mod' checked='checked' /> {$row['author_name']}</h3>
					<div class='post_body'>
						<p class='posted_info'><label for='checkbox_{$row['pid']}' class='post_mod hide'>{$this->lang->words['st_split']}</label> {$this->lang->words['move_posted']} {$row['date']}</p>
						<div class='post'>{$row['post']}</div>
					</div>
				</div></div>
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- moveTopicForm --*/
function moveTopicForm($forum, $topic, $forum_jump) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='14' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />

<p class='message'>{$this->lang->words['move_exp']}</p>
<br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['top_move']}: {$forum['name']} &gt; {$topic['title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['move_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='move_from'>{$this->lang->words['move_from']} <strong>{$forum['name']}</strong> {$this->lang->words['to']}</label>
				<select name=\"move_id\" id='move_from' class='input_select'>{$forum_jump}</select>
			</li>
			<li class='field clear checkbox'>
				<input type='checkbox' id='leave_link' class='input_check' name='leave' value='y' />
				<label for='leave_link'>{$this->lang->words['leave_link']}</label>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_move']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}

/* -- moveTopicsForm --*/
function moveTopicsForm($forum, $jump_html, $topics) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['moveTopicsForm'] ) )
{
$count_a97ab43720b13789d49246d8fee5a8ad = is_array($this->functionData['moveTopicsForm']) ? count($this->functionData['moveTopicsForm']) : 0;
$this->functionData['moveTopicsForm'][$count_a97ab43720b13789d49246d8fee5a8ad]['forum'] = $forum;
$this->functionData['moveTopicsForm'][$count_a97ab43720b13789d49246d8fee5a8ad]['jump_html'] = $jump_html;
$this->functionData['moveTopicsForm'][$count_a97ab43720b13789d49246d8fee5a8ad]['topics'] = $topics;
}
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='topicchoice' />
<input type='hidden' name='tact' value='domove' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<input type='hidden' name='fromSearch' value='{$this->request['fromSearch']}' />
<input type='hidden' name='returnUrl' value='{$this->request['returnUrl']}' />
<p class='message'>{$this->lang->words['move_exp']}</p>
<br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['cp_tmove_start']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form' id='mod_form'>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['topics_to_move']}</h3>
		<ul>
			" . ((count($topics) AND is_array($topics)) ? ("
				".$this->__f__194ad05077adc0b182b100811b4b0ed4($forum,$jump_html,$topics)."			") : ("")) . "
		</ul>
	</fieldset>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['move_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='move_from'>{$this->lang->words['move_from']} <strong>{$forum['name']}</strong> {$this->lang->words['to']}</label>
				<select name=\"df\" id='move_from' class='input_select'>{$jump_html}</select>
			</li>
			<li class='field checkbox clear'>
				<input type='checkbox' id='leave_link' class='input_check' name='leave' value='y' />
				<label for='leave_link'>{$this->lang->words['leave_link']}</label>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_move']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", "public",'' ), "{$forum['name_seo']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}


function __f__194ad05077adc0b182b100811b4b0ed4($forum, $jump_html, $topics)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $topics as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					<li class='field checkbox'>
						<input class='input_check' type=\"checkbox\" name=\"selectedtids[{$row['tid']}]\" id='t_{$row['tid']}' value=\"{$row['tid']}\" checked=\"checked\" />
						<label for='t_{$row['tid']}'>{$row['title']}</label>
					</li>
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- pruneSplash --*/
function pruneSplash($forum="", $forums_html="", $confirm_data="", $complete_html="") {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['pruneSplash'] ) )
{
$count_27a890c40501a5cb17334681ddc9f735 = is_array($this->functionData['pruneSplash']) ? count($this->functionData['pruneSplash']) : 0;
$this->functionData['pruneSplash'][$count_27a890c40501a5cb17334681ddc9f735]['forum'] = $forum;
$this->functionData['pruneSplash'][$count_27a890c40501a5cb17334681ddc9f735]['forums_html'] = $forums_html;
$this->functionData['pruneSplash'][$count_27a890c40501a5cb17334681ddc9f735]['confirm_data'] = $confirm_data;
$this->functionData['pruneSplash'][$count_27a890c40501a5cb17334681ddc9f735]['complete_html'] = $complete_html;
}
$IPBHTML .= "" . (($complete_html != '') ? ("
	<div class='message'>{$complete_html}</div><br />
") : ("")) . "
	
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['cp_prune']} {$forum['name']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='generic_bar'></div>
<div class='post_form'>
	" . (($confirm_data['show'] == 1) ? ("
		<fieldset>
			<h3 class='bar'>{$this->lang->words['mpt_confirm']}: {$this->lang->words['cp_check_result']}</h3>
			
			<ul>
				<li class='field'>
					<label>{$this->lang->words['cp_total_topics']}</label>
					{$confirm_data['tcount']}
				</li>
				<li class='field'>
					<label>{$this->lang->words['cp_total_match']}</label>
					{$confirm_data['count']}
				</li>
			</ul>
		</fieldset>
	
		<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$confirm_data['link']}", "public",'' ), "", "" ) . "' method=\"post\">
		<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
		<fieldset class='submit'>
			<input type=\"submit\" class='input_submit' value=\"{$confirm_data['link_text']}\" />
		</fieldset>
		</form>
		
	") : ("")) . "
	<form id='postingform' action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "\" method=\"post\">
	<input type=\"hidden\" name=\"app\" value=\"forums\" />
	<input type=\"hidden\" name=\"module\" value=\"moderate\" />
	<input type=\"hidden\" name=\"section\" value=\"moderate\" />
	<input type=\"hidden\" name=\"do\" value=\"prune_start\" />
	<input type=\"hidden\" name=\"f\" value=\"{$forum['id']}\" />
	<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
	<input type=\"hidden\" name=\"check\" value=\"1\" />
	<fieldset>
		<h3 class='bar'>{$this->lang->words['mpt_help']}</h3>
		<p class='ipsPad'>{$this->lang->words['cp_prune_text']}</p><br />
		<ul>
			<li class='field'>
				<label for='df'>{$this->lang->words['cp_prune_action2']}</label>
				<select class='input_select' name=\"df\" id=\"df\">
					<option value='prune'>{$this->lang->words['cp_ac_prune']}</option>
					{$forums_html}
				</select>
			</li>
			<li class='field'>
				<label for='pergo'>{$this->lang->words['cp_per_go']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"pergo\" id=\"pergo\" value=\"{$this->request['pergo']}\" />
			</li>
			<li class='field'>
				<label for='entered_name'>{$this->lang->words['cp_prune_member']}</label>
				<input class='input_text' type=\"text\" size=\"30\" name=\"member\" id='entered_name' value=\"{$this->request['member']}\" />
			</li>
			<li class='field'>
				<label for='dateline'>{$this->lang->words['cp_prune_days2']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"dateline\" id=\"dateline\" value=\"{$this->request['dateline']}\" />
			</li>
			<li class='field'>
				<label for='posts'>{$this->lang->words['cp_prune_replies']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"posts\" id=\"posts\" value=\"{$this->request['posts']}\" />
			</li>
			<li class='field'>
				<label for='topic_type'>{$this->lang->words['cp_prune_type']}</label>
				<select class='input_select' name='topic_type' id=\"topic_type\">
					".$this->__f__5958c41a95414aac28d64fcc257afda1($forum,$forums_html,$confirm_data,$complete_html)."				</select>
			</li>
			<li class='field'>
				<label for='cbox'>{$this->lang->words['mps_ignorepin']}</label>
				<input class='input_check' type=\"checkbox\" id=\"cbox\" name=\"ignore_pin\" value=\"1\" checked=\"checked\" />
			</li>
			<li class='field'>
				<span class='desc'>{$this->lang->words['cp_optional']}</span>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cp_prune_sub1']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", "public",'' ), "{$forum['name_seo']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
	</form>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "";
return $IPBHTML;
}


function __f__5958c41a95414aac28d64fcc257afda1($forum="", $forums_html="", $confirm_data="", $complete_html="")
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( array( 'open', 'closed', 'link', 'all' ) as $type )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
						<option value='{$type}'" . (($this->request['topic_type'] == $type) ? (" selected='selected'") : ("")) . ">{$this->lang->words[ 'cp_pday_' . $type ]}</option>
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- simplePage --*/
function simplePage($title="", $msg="") {
$IPBHTML = "";
$IPBHTML .= "<strong>{$title}</strong><br /> {$msg}";
return $IPBHTML;
}

/* -- softDeleteSplash --*/
function softDeleteSplash($forum, $tids=array(), $canHardDelete=false) {
$IPBHTML = "";
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' id='mmForm' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='topicchoice' />
<input type='hidden' name='fromSearch' value='{$this->request['fromSearch']}' />
<input type='hidden' name='returnUrl' value='{$this->request['returnUrl']}' />
<input type='hidden' name='return' value='{$this->request['return']}' />".$this->__f__c3123704e3f7c1e1668f53b73f1495a7($forum,$tids,$canHardDelete)."<input type='hidden' name='tact' id='mmTact' value='sdelete' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>" . sprintf($this->lang->words['mm_delete_top'], count( $tids ) ) . "</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
		<div class='ipsPad'>
			{$this->lang->words['dltt_remove_from_view_desc']}<br /><br />
			<input type='text' class='input_text' name='deleteReason' id='delPop_reason' value='' style='width: 60%'  /> <input type='submit' class='input_submit' value='{$this->lang->words['topic_hide']}' />
		</div>
	</div>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>
<script type='text/javascript'>
$('delPop_reason').defaultize( \"{$this->lang->words['topic_hide_reason_default']}\" );
</script>";
return $IPBHTML;
}


function __f__c3123704e3f7c1e1668f53b73f1495a7($forum, $tids=array(), $canHardDelete=false)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $tids as $t )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<input type='hidden' name=\"selectedtids[$t]\" value=\"$t\" />

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- softDeleteSplashPosts --*/
function softDeleteSplashPosts($forum, $topic, $pids=array(), $canHardDelete=false) {
$IPBHTML = "";
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' id='mmForm' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='fromSearch' value='{$this->request['fromSearch']}' />
<input type='hidden' name='returnUrl' value='{$this->request['returnUrl']}' />
<input type='hidden' name='return' value='{$this->request['return']}' />".$this->__f__94b9486c3fb0af8aae21802378499a74($forum,$topic,$pids,$canHardDelete)."<input type='hidden' name='tact' id='mmTact' value='sdelete' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>" . sprintf($this->lang->words['mm_delete_top_posts'], count( $pids ) ) . "</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
		<div class='ipsPad ipsForm_center'>
			{$this->lang->words['dlp_remove_from_view_desc']}<br />
			<span class='desc lighter ipsType_smaller'>{$this->lang->words['dlp_remove_from_view_extra']}</span><br /><br />
			<input type='text' class='input_text' name='deleteReason' id='delPop_reason' value='' style='width: 60%'  /> <input type='submit' class='input_submit' value='{$this->lang->words['post_hide']}' />
		</div>
	</div>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>
<script type='text/javascript'>
$('delPop_reason').defaultize( \"{$this->lang->words['post_hide_reason_default']}\" );
</script>";
return $IPBHTML;
}


function __f__94b9486c3fb0af8aae21802378499a74($forum, $topic, $pids=array(), $canHardDelete=false)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $pids as $p )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<input type='hidden' name=\"selectedpids[$p]\" value=\"$p\" />

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- splitPostForm --*/
function splitPostForm($forum, $topic, $posts, $jump) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['splitPostForm'] ) )
{
$count_c679b8930196e1a5a4661a0650f7e036 = is_array($this->functionData['splitPostForm']) ? count($this->functionData['splitPostForm']) : 0;
$this->functionData['splitPostForm'][$count_c679b8930196e1a5a4661a0650f7e036]['forum'] = $forum;
$this->functionData['splitPostForm'][$count_c679b8930196e1a5a4661a0650f7e036]['topic'] = $topic;
$this->functionData['splitPostForm'][$count_c679b8930196e1a5a4661a0650f7e036]['posts'] = $posts;
$this->functionData['splitPostForm'][$count_c679b8930196e1a5a4661a0650f7e036]['jump'] = $jump;
}

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='tact' value='split' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['st_explain']}</p>
<br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['st_top']}: {$forum['name']} &gt; {$topic['title']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
		<ul>
			<li class='field'>
				<label for='new_title'>{$this->lang->words['mt_new_title']}</label>
				<input type=\"text\" size=\"40\" class='input_text' id='new_title' maxlength=\"100\" name=\"title\" value=\"\" />
			</li>
			<li class='field'>
				<label for='new_forum'>{$this->lang->words['st_forum']}</label>
				<select name=\"fid\" id='new_forum' class='input_select'>{$jump}</select>
			</li>
		</ul>
	</div>
</div>" . $this->registry->getClass('output')->getReplacement("box_end") . "
<br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h2 class='maintitle'>{$this->lang->words['st_post']}</h2>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<div class='ipsBox clearfix'>
	<div class='ipsBox_container'>
	" . ((is_array( $posts ) AND count( $posts )) ? ("
		".$this->__f__776a2386dcd9e1a8f29e8ace1af08378($forum,$topic,$posts,$jump)."	") : ("")) . "
	</div>
</div>
<fieldset class='submit'>
		<input type=\"submit\" name=\"submit\" class='input_submit' value=\"{$this->lang->words['st_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;selectedpids={$selectedPids}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>" . $this->registry->getClass('output')->getReplacement("box_end") . "
</form>";
return $IPBHTML;
}


function __f__776a2386dcd9e1a8f29e8ace1af08378($forum, $topic, $posts, $jump)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $posts as $row )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<div class='post_block no_sidebar topic_summary'>
				<h3><input type='checkbox' id='checkbox_{$row['pid']}' name='selectedpids[{$row['pid']}]' value='{$row['pid']}' class='post_mod' checked='checked' /><label for='checkbox_{$row['pid']}' class='post_mod hide'>{$this->lang->words['st_split']}</label> {$row['author_name']}</h3>
				<div class='post_body'>
					<p class='posted_info'>{$this->lang->words['move_posted']} {$row['date']}</p>
					<div class='post'>{$row['post']}</div>
				</div>
			</div>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- topicHistory --*/
function topicHistory($topic, $avg_post, $mod_logs=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_mod', $this->_funcHooks['topicHistory'] ) )
{
$count_c30b1d069a221ac6dc11dd2739b9b975 = is_array($this->functionData['topicHistory']) ? count($this->functionData['topicHistory']) : 0;
$this->functionData['topicHistory'][$count_c30b1d069a221ac6dc11dd2739b9b975]['topic'] = $topic;
$this->functionData['topicHistory'][$count_c30b1d069a221ac6dc11dd2739b9b975]['avg_post'] = $avg_post;
$this->functionData['topicHistory'][$count_c30b1d069a221ac6dc11dd2739b9b975]['mod_logs'] = $mod_logs;
}

if ( ! isset( $this->registry->templateStriping['topicHistory'] ) ) {
$this->registry->templateStriping['topicHistory'] = array( FALSE, "row1","row2");
}

if ( ! isset( $this->registry->templateStriping['modlogs'] ) ) {
$this->registry->templateStriping['modlogs'] = array( FALSE, "row1","row2");
}
$IPBHTML .= "<h1 class='ipsType_pagetitle'>{$this->lang->words['th_title']}</h1>
<br />
<div class='ipsBox'>
	<table class='ipb_table' summary=\"{$this->lang->words['topic_history_summary']} '{$topic['title']}'\">
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["topicHistory"] ) . "'>
			<td class='altrow'>{$this->lang->words['th_topic']}</td>
			<td>{$topic['title']}</td>
		</tr>
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["topicHistory"] ) . "'>
			<td class='altrow'>{$this->lang->words['th_start_date']}</td>
			<td>" . IPSText::htmlspecialchars($this->registry->getClass('class_localization')->getDate($topic['start_date'],"long", 0)) . "</td>
		</tr>
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["topicHistory"] ) . "'>
			<td class='altrow'>{$this->lang->words['th_start_name']}</td>
			<td>" . IPSMember::makeProfileLink( $topic['starter_name'], $topic['starter_id'], $topic['seo_first_name'] ) . "</td>
		</tr>
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["topicHistory"] ) . "'>
			<td class='altrow'>{$this->lang->words['th_last_date']}</td>
			<td>" . IPSText::htmlspecialchars($this->registry->getClass('class_localization')->getDate($topic['last_post'],"long", 0)) . "</td>
		</tr>
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["topicHistory"] ) . "'>
			<td class='altrow'>{$this->lang->words['th_last_name']}</td>
			<td>" . IPSMember::makeProfileLink( $topic['last_poster_name'], $topic['last_poster_id'], $topic['seo_last_name'] ) . "</td>
		</tr>
		<tr class='" .  IPSLib::next( $this->registry->templateStriping["topicHistory"] ) . "'>
			<td class='altrow'>{$this->lang->words['th_avg_post']}</td>
			<td>{$avg_post}</td>
		</tr>
	</table>
</div>
<br /><br />
" . $this->registry->getClass('output')->getReplacement("header_start") . "<h3 class='maintitle'>{$this->lang->words['ml_title']}</h3>" . $this->registry->getClass('output')->getReplacement("header_end") . "
<table class='ipb_table' summary=\"{$this->lang->words['mod_logs_topic_summary']} '{$topic['title']}'\">
	<tr class='header'>
		<th scope='col' style='width: 25%'>{$this->lang->words['ml_name']}</th>
		<th scope='col' style='width: 50%'>{$this->lang->words['ml_desc']}</th>
		<th scope='col' style='width: 25%'>{$this->lang->words['ml_date']}</th>
	</tr>
	" . ((!count($mod_logs) OR !is_array($mod_logs)) ? ("
		<tr>
			<td class=\"no_messages\" colspan=\"3\">{$this->lang->words['ml_none']}</td>
		</tr>
	") : ("
				".$this->__f__80b5027e45908922a5cd5b52d1bd8cf0($topic,$avg_post,$mod_logs)."	")) . "
</table>" . $this->registry->getClass('output')->getReplacement("box_end") . "";
return $IPBHTML;
}


function __f__80b5027e45908922a5cd5b52d1bd8cf0($topic, $avg_post, $mod_logs=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $mod_logs as $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlogs"] ) . "'>
				<td class='altrow'>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($data) : '' ) . "</td>
				<td>{$data['action']}</td>
				<td class=\"altrow\">" . IPSText::htmlspecialchars($this->registry->getClass('class_localization')->getDate($data['ctime'],"long", 0)) . "</td>
			</tr>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- unsubscribeForm --*/
function unsubscribeForm($forum, $topic, $text) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", "public",'' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='31' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<input type='hidden' name='page' value='{$this->request['page']}' />
<h1 class='ipsType_pagetitle'>{$this->lang->words['ts_title']}: {$forum['name']} &gt; {$topic['title']}</h1>
<br />
<p class='message'>{$text}</p>
<br />
<fieldset class='submit'>
	<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['ts_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", "public",'' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>